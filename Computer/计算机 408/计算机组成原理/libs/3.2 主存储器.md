#computer 

---
## 3.2.1 SRAM 芯片和 DRAM 芯片

### SRAM 和 DRAM 的对比
- **SRAM**：静态随机存储器
	- 存储元：双稳态触发器
		- 6 个 mos 管
			- 可以出现两个稳定的状态
				- 1：A 高 B 低
				- 0：A 低 B 高
			- 读数据，触发器状态保持稳定
				- 非破坏性读出
				- 不需要重写
				- 速度更快
		- 成本高，集成度低，功耗大
		- *不需要刷新*
			- 只要给 VDD 供电就不会消失
	- 制作 Cache
- **DRAM**：动态随机存储器
	- 存储元：栅极电容
		- 电容放电，信息破坏
			- 破坏性读出
			- 需要重写
			- 读写速度更慢
		- 成本低，集成度高，功耗低
		- *需要刷新*
			- 电荷会随时间流失
			- 2 ms 必须刷新一次
	- 制作主存
- *二者都是易失性存储器*

### DRAM 的刷新
- 刷新周期：默认 2 ms
- 以行为单位：每次刷新一行存储单元
	- n 位地址拆分为行地址和列地址（等长）
		- 选通线减少
	- 行地址译码器
	- 列地址译码器
- 如何刷新：硬件支持，读出一行信息再重新写入，占用一个读/写周期
- 何时刷新：
	- 分散刷新
	- 集中刷新
	- 异步刷新
- 刷新由存储器独立完成，不受 CPU 控制

### DRAM 的地址线复用技术
- 分两次传送行列地址，SRAM 是同时送
- 通过复用，可以按照先后顺序用同一根线传送行列地址（地址线减半）
- 地址线复用，对应的引脚数目减半

目前的主存技术：SDRAM


## 3.2.2 只读存储器 ROM

- MROM
	- 掩模式只读存储器
	- 生产过程中直接写入信息，无法重写
- PROM
	- 可编程只读存储器
	- 使用专门 PROM 写入器写入
		- 写一次后不能更改
- EPROM
	- 可擦书可编程只读存储器
	- 允许写入，可多次重写
	- UVEPROM
		- 紫外线照射 8~20 min，擦除所有信息
	- EEPROM
		- 电擦除方式，擦除特定的字
- 闪存
	- 闪速存储器，U 盘、SD 卡
	- EEPROM 基础上发展
		- 断电后可保存信息，且可多次快速擦除重写
			- 每个存储元只需单个 MOS 管
			- 位密度比 RAM 高
		- 先擦除再写入
			- 写速度慢于读速度
	- 一般归为 ROM 类芯片
- SSD
	- 固态硬盘
	- 控制单元+存储单元（flash 芯片）
		- 和闪存核心区别：控制单元不一样
- 辅存
	- 计算机内的重要 ROM
	- 主板上 BIOS 芯片（ROM）
		- 负责引导装入操作系统（开机）
	- 这部分 ROM 一般认为和 RAM 共同组成主存
		- 且二者统一编址
- 注意
	- 其实很多 ROM 也都可以写
	- ROM 也具有*随机存取*的特性

## 3.2.3 多模块存储器

- **起因**：DRAM 芯片恢复时间长，有可能是存取时间的几倍
- **问题**
	- 多核 CPU 访存
	- CPU 读写速度快，主存恢复时间太长怎么办
- **目的**：提升主存速度

### 问题 1 解决：双口 RAM
- 作用：优化多核 CPU 访问一根内存条的速度
- 实现
	- 两组完全独立的
		- 数据线
		- 地址线
		- 控制线
	- cpu、ram 中电路更复杂
- 2 个端口对同一主存操作的 4 种情况
	- 两端口同时对不同地址单元存取数据
		- ok
	- 两端口同时对同一地址
		- 读出数据
			- ok
		- 写入数据
			- 写入错误
		- 一读一写
			- 读出错误
	- 对比操作系统：读者-写者问题

### 问题 2 解决：多模块存储器
- CPU 读写速度快，需要等待主存恢复时间
- 多体并行存储器
	- 高位交叉编址
		- 体号+体内地址
	- 低位交叉编址
		- 体内地址+体号
		- 由于体号在低位，从而保证访问各个内存条的时间存在交叉
		- 存取周期 T=存取时间 r+恢复时间
			- 每个存储体存取周期 T，存取时间 r，假设 T=4r
			- 每个存储器周期内可读写地址连续的 m 个字
			- 连续存取 n 个存储字 -> 耗时 T+（n-1）r
			- 宏观上一个字的读取时间接近 r
		- 注意此时假定连续访问情况
		- 那么取几个“体”？
			- 采用流水线方式并行存取（宏观上并行，微观上串行）
			- 存取周期为 T，存取时间 (总线传输周期)为 r，要保证模块数 m>=T/r
		- 给定一个地址 x，如何确定属于第几个存储体
			- 1. 根据末尾体号
			- 2. 将十进制地址 x 对 m 体取余
		- 此时认为各个体之间是相互独立的

### 单体多字存储器
- 这里将每个存储体进行合并了
- 不能单独取其中某个字，只能一次并行读出 m 个字，总线宽度也为 m 个字

### 实际应用：双通道内存
- 双通道内存
	- 低位交叉的 2 体存储器
