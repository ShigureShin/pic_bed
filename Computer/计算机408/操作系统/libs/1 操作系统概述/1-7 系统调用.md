#computer 

---

![](img/Pasted%20image%2020231226093158.png)

### 什么是系统调用，有何作用？

涉及到操作系统作为用户和计算机硬件之间接口，向上提供简单易用的服务，主要包括：
- 命令接口
- 程序接口：由一组*系统调用*组成，即*系统调用是操作系统对应用程序/程序员提供的接口*

![](img/Pasted%20image%2020231226093408.png)

应用程序通过系统调用请求获得操作系统内核的服务

### 系统调用和库函数的区别

- 有的库函数是对系统调用的进一步封装
- 有的库函数没有使用系统调用

![](img/Pasted%20image%2020231226093538.png)

### 举例：为什么系统调用是必须的？

![](img/Pasted%20image%2020231226093613.png)

系统中存在各种并发的进程，而这些进程有需要并发地共享资源，并且是需要相互之间*互斥共享*该资源

**解决方案**：通过操作系统内核对共享资源统一管理，向上提供“系统调用”。进程只能通过系统调用向操作系统内核发出请求，内核再根据各个请求进行协调处理

### 什么功能需要用到系统调用？

![](img/Pasted%20image%2020231226093852.png)

Linux 系统调用

![](img/Pasted%20image%2020231226093920.png)

主要是与*共享资源*相关的操作、会*直接影响其他进程*的操作

### 系统调用的过程

- 用户态
	- 通过传参指令给 CPU 传递指令
	- 再通过*陷入指令*引发内中断，从而转入相应的中断处理程序，即*系统调用的入口程序*
- 内核态（此时 CPU 状态更新）
	- 根据寄存器参数判断用户需要何种系统调用服务
	- 调用所需的系统调用的处理程序

![](img/Pasted%20image%2020231226094254.png)
