#编程基础 #QT 
# 分析第一个Qt程序

![](https://c.biancheng.net/uploads/allimg/211028/1629195557-2.gif)

- Demo.pro 是项目文件，文件中的内容可以手动修改
- main.cpp
	- 主函数文件，应用程序的入口函数
	- Qt的main()函数内部的固定格式：
	```cpp
	int main(int argc, char *argv[]){
		QApplication a(argc, argv); // 必须包含
		//代码部分
		return a.exec(); // 必须包含
	}
	```
	- 其中有两行内容必须包含
- mainwindow.h和mainwindow.cpp
	- 创建项目时，会需要定义一个继承自`QMainWindow`的主窗口类，名字为MainWindow
	- **定义部分**位于`mainwindow.h`
	- **实现部分**位于`mainwindow.cpp`
	- 代码如下：
	```cpp
	//mainwindow.h
	#ifndef MAINWINDOW_H
	#define MAINWINDOW_H
	#include <QMainWindow>
	QT_BEGIN_NAMESPACE
	namespace Ui { class MainWindow; }
	QT_END_NAMESPACE
	
	class MainWindow : public QMainWindow
	{
		Q_OBJECT
	public:
		MainWindow(QWidget *parent = nullptr);
		~MainWindow();
	private:
		Ui::MainWindow *ui;
	};
	#endif // MAINWINDOW_H
	
	//mainwindow.cpp
	#include "mainwindow.h"
	#include "ui_mainwindow.h"
	
	MainWindow::MainWindow(QWidget *parent)
		: QMainWindow(parent)
		, ui(new Ui::MainWindow)
	{
		ui->setupUi(this);
	}
	MainWindow::~MainWindow()
	{
		delete ui;
	}
	```
	- MainWindow类：Q_OBJECT、构造函数和析构函数
		- Q_OBJECT：已定义好的宏
			- 所有需要“信号和槽”功能的组件都必须将 Q_OBJECT 作为 private 属性成员引入到类中
		- 带参的构造函数：QWidget 是所有组件的基类，借助 parent 指针，可以为当前窗口指定父窗口。