#computer 
- 虚拟存储器的基本概念
- 页式虚拟存储器
- 段式虚拟存储器
- 段页式虚拟存储器
- 虚拟存储器与cache比较
---
# 页式存储器

- 程序数据所占用大小，如果连续存放
	- 假如该数据为1GB，则需要主存中有连续的1GB的空间可以使用
	- 这显然是很不方便的
- 这种连续存放的限制会严重影响存储空间利用率
- 实际中
	- 程序分为多个“页”，每个页面的大小和“物理块”的大小相同

**页式存储系统**：
- 一个程序（进程）在*逻辑上*被分为若干个大小相等的“页面”
- 页面大小与块大小相同（*物理上*的划分）
- 每个页面可以离散地放入不同的主存块中。

**问题**：此时被离散存放的程序该如何执行呢？

- **逻辑地址（虚地址）**：程序员视角
- **物理地址（实地址）**：实际在主存中

![](../img/Pasted%20image%2020231211110532.png)

关键：**逻辑页号映射为主存块号**
- **页表**（存放在主存中）
	- 每个逻辑页面存放在哪个主存块中

![](../img/Pasted%20image%2020231211110647.png)

- 逻辑地址转为物理地址

![](../img/Pasted%20image%2020231211111524.png)

- 借助利用cache增加cpu访问主存中数据的思想
- 这里引入**快表（TLB）** 的概念

![](../img/Pasted%20image%2020231211112117.png)

![](../img/Pasted%20image%2020231211112338.png)

# 虚拟存储器

- 主存和辅存之间的管理策略（与主存和cache之间类似）

![](../img/Pasted%20image%2020231211112857.png)

![](../img/Pasted%20image%2020231211113223.png)

- 存储器的层次化结构

![](../img/Pasted%20image%2020231211113246.png)

计组这门课重点在：主存和cache之间

# 段式虚拟存储器

![](../img/Pasted%20image%2020231211113321.png)

- 以功能模块对程序进行拆分
- 每段大小不一定相同

- 此时对应的主存地址不再分块，而是以一个bit为基本单位

# 段页式存储器

- 先分段，每个段再分页

![](../img/Pasted%20image%2020231211113509.png)



