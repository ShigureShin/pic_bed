Tags:: #record #day 
Abstract:: 本日大纲

---
# 笔记回顾

```dataview
TABLE Tags, Abstract
FROM "DayPlanner/Day/2024/W03" and #record and #day
SORT file.name DESC
```

- [2024-01-14](../W02/2024-01-14.md)
	- OpenGL 的 PBR
	- 满足基于物理的三个条件
		- 微平面
		- 能量守恒
		- 应用基于物理的 BRDF 
	- 微平面引入粗糙度
	- 能量守恒保证出射光线能量永远不超过入射光线能量
	- 利用渲染方程，这里用到的是其一种特殊形式：反射率方程
		- 引入辐射度量学中的辐射率概念
		- 重点理解反射率方程中的 f_r 函数，即材质的 BRDF
	- BRDF，双向反射分布函数：描述的是给定入射角 $\omega_{in}$ 上的入射光线对某一个出射方向 $\omega_{out}$ 上出射光线的贡献
		- 实时渲染管线几乎都在使用 Cook-Torrance BRDF 模型：$f_r = k_d\cdot f_{lambert} + k_s\cdot f_{cook-torrance}$
		- 前方为折射部分，后方为反射部分
		- 折射部分使用 lambertian 漫反射模型：$f_{lambert} = \frac{color}{\pi}$
		- 反射部分：$f_{cook-torrance} = \frac{D\cdot F\cdot G}{4(\omega_{out}\cdot n)(\omega_{in}\cdot n)}$
			- 重点关注分子中的三个函数
	- D：法线分布函数 NDF，表面法线与半程向量取向一致的微平面占比
	- G：几何函数，微平面之间因粗糙度不同而导致相互遮蔽的程度，利用史密斯法同时考虑几何遮蔽（观察方向）和几何阴影（光线方向）
	- F：菲涅尔方程，被反射的光线部分能量占比
		- Fresnel-Schlick 近似法求解：$F_{Schlick}(h,v,F_0) = F_0 + (1-F_0)(1-(h\cdot v)^5)$
		- 引入基础反射率概念，$F_0$
		- 金属和非金属
			- 相同：遵循相同的反射折射原理
			- 不同：金属会吸收所有折射光线从而没有漫反射，从而导致金属独特的金属工作流概念
				- 引入金属度 Metalness 来区别金属和非金属材质
				- 无法用与非金属同样的方式计算基础反射率
		- 金属度：原则上应当是 0 或 1 的二元值，但实际上会进行线性取值以弥补材质纹理的精度不足，从而实现描述具有复杂样貌的金属表面（如细沙/沙状粒子/刮痕的金属表面）
		- 对于反射率：预先估计 $F_0$，在和表面材质纹理按照金属度计算线性插值，计算新的 $F_0$
	- 基于 BRDF 编写 PBR 材质
		- 反照率：为纹素指定基础反射率或表面颜色，与漫反射纹理不同：反照率不包含细小的阴影或深色裂纹 
		- 法线
		- 金属度：逐纹素描述该纹素是否为金属
		- 粗糙度（光滑度，粗糙+光滑=1）
		- AO：环境光遮蔽
---
# 行程记录

- [【游戏开发面经汇总】- 计算机基础篇 - Steven 王的文章 - 知乎](https://zhuanlan.zhihu.com/p/417640759)
	- C++ 1-1 多态、虚函数
- 

---
# 学习安排

- 


